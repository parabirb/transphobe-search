import{s as It,n as st,o as Jt,e as Lt,r as Vt}from"../chunks/scheduler.CtbWrGNo.js";import{S as Wt,i as Kt,e as U,s as et,c as j,a as it,y as L,f as rt,d as b,o as D,g as A,h as I,t as O,b as H,z as ct,j as ut,m as St}from"../chunks/index.Bt922ls7.js";class Et{constructor(t,r){var n;typeof t!="number"&&(n=t,t=n.length*32);var a=Math.ceil(t/32),l=-1;this.m=t=a*32,this.k=r;var p=this.buckets=new Int32Array(a);if(n)for(;++l<a;)p[l]=n[l];this._locations=new Uint32Array(new ArrayBuffer(4*r))}locations(t){for(var r=this.k,n=this.m,a=this._locations,l=Bt(t),p=Bt(t,1576284489),w=l%n,i=0;i<r;++i)a[i]=w<0?w+n:w,w=(w+p)%n;return a}add(t){for(var r=this.locations(t+""),n=this.k,a=this.buckets,l=0;l<n;++l)a[Math.floor(r[l]/32)]|=1<<r[l]%32}test(t){for(var r=this.locations(t+""),n=this.k,a=this.buckets,l=0;l<n;++l){var p=r[l];if(!(a[Math.floor(p/32)]&1<<p%32))return!1}return!0}size(){for(var t=this.buckets,r=0,n=0,a=t.length;n<a;++n)r+=Yt(t[n]);return-this.m*Math.log(1-r/this.m)/this.k}}function Yt(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function Bt(e,t){for(var r=2166136261^(t||0),n=0,a=e.length;n<a;++n){var l=e.charCodeAt(n),p=l&65280;p&&(r=Ot(r^p>>8)),r=Ot(r^l&255)}return qt(r)}function Ot(e){return e+(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}function qt(e){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,e+=e<<5,e&4294967295}class bt{static getIdForPart(t,r){return r==0?t:t+"|"+r}test(t){for(let n=0;n<this.parts.length;n++){const a=this.parts[n];var r=bt.getIdForPart(t,n);if(a.test(r))return!0}return!1}}var V=Uint8Array,lt=Uint16Array,Xt=Int32Array,Tt=new V([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ut=new V([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gt=new V([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jt=function(e,t){for(var r=new lt(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Xt(r[30]),n=1;n<30;++n)for(var l=r[n];l<r[n+1];++l)a[l]=l-r[n]<<5|n;return{b:r,r:a}},Nt=jt(Tt,2),zt=Nt.b,Zt=Nt.r;zt[28]=258,Zt[258]=28;var Qt=jt(Ut,0),$t=Qt.b,Ft=new lt(32768);for(var T=0;T<32768;++T){var at=(T&43690)>>1|(T&21845)<<1;at=(at&52428)>>2|(at&13107)<<2,at=(at&61680)>>4|(at&3855)<<4,Ft[T]=((at&65280)>>8|(at&255)<<8)>>1}var ft=function(e,t,r){for(var n=e.length,a=0,l=new lt(t);a<n;++a)e[a]&&++l[e[a]-1];var p=new lt(t);for(a=1;a<t;++a)p[a]=p[a-1]+l[a-1]<<1;var w;if(r){w=new lt(1<<t);var i=15-t;for(a=0;a<n;++a)if(e[a])for(var _=a<<4|e[a],y=t-e[a],c=p[e[a]-1]++<<y,u=c|(1<<y)-1;c<=u;++c)w[Ft[c]>>i]=_}else for(w=new lt(n),a=0;a<n;++a)e[a]&&(w[a]=Ft[p[e[a]-1]++]>>15-e[a]);return w},ht=new V(288);for(var T=0;T<144;++T)ht[T]=8;for(var T=144;T<256;++T)ht[T]=9;for(var T=256;T<280;++T)ht[T]=7;for(var T=280;T<288;++T)ht[T]=8;var Mt=new V(32);for(var T=0;T<32;++T)Mt[T]=5;var te=ft(ht,9,1),ee=ft(Mt,5,1),dt=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},q=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},vt=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},re=function(e){return(e+7)/8|0},_t=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new V(e.subarray(t,r))},ne=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],K=function(e,t,r){var n=new Error(t||ne[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,K),!r)throw n;return n},ae=function(e,t,r,n){var a=e.length,l=n?n.length:0;if(!a||t.f&&!t.l)return r||new V(0);var p=!r,w=p||t.i!=2,i=t.i;p&&(r=new V(a*3));var _=function(kt){var At=r.length;if(kt>At){var Ct=new V(Math.max(At*2,kt));Ct.set(r),r=Ct}},y=t.f||0,c=t.p||0,u=t.b||0,F=t.l,B=t.d,N=t.m,m=t.n,P=a*8;do{if(!F){y=q(e,c,1);var W=q(e,c+1,3);if(c+=3,W)if(W==1)F=te,B=ee,N=9,m=5;else if(W==2){var s=q(e,c,31)+257,d=q(e,c+10,15)+4,v=s+q(e,c+5,31)+1;c+=14;for(var f=new V(v),x=new V(19),o=0;o<d;++o)x[Gt[o]]=q(e,c+o*3,7);c+=d*3;for(var g=dt(x),h=(1<<g)-1,k=ft(x,g,1),o=0;o<v;){var E=k[q(e,c,h)];c+=E&15;var S=E>>4;if(S<16)f[o++]=S;else{var z=0,R=0;for(S==16?(R=3+q(e,c,3),c+=2,z=f[o-1]):S==17?(R=3+q(e,c,7),c+=3):S==18&&(R=11+q(e,c,127),c+=7);R--;)f[o++]=z}}var Y=f.subarray(0,s),C=f.subarray(s);N=dt(Y),m=dt(C),F=ft(Y,N,1),B=ft(C,m,1)}else K(1);else{var S=re(c)+4,J=e[S-4]|e[S-3]<<8,M=S+J;if(M>a){i&&K(0);break}w&&_(u+J),r.set(e.subarray(S,M),u),t.b=u+=J,t.p=c=M*8,t.f=y;continue}if(c>P){i&&K(0);break}}w&&_(u+131072);for(var G=(1<<N)-1,Z=(1<<m)-1,nt=c;;nt=c){var z=F[vt(e,c)&G],Q=z>>4;if(c+=z&15,c>P){i&&K(0);break}if(z||K(2),Q<256)r[u++]=Q;else if(Q==256){nt=c,F=null;break}else{var ot=Q-254;if(Q>264){var o=Q-257,$=Tt[o];ot=q(e,c,(1<<$)-1)+zt[o],c+=$}var xt=B[vt(e,c)&Z],pt=xt>>4;xt||K(3),c+=xt&15;var C=$t[pt];if(pt>3){var $=Ut[pt];C+=vt(e,c)&(1<<$)-1,c+=$}if(c>P){i&&K(0);break}w&&_(u+131072);var mt=u+ot;if(u<C){var gt=l-C,Rt=Math.min(C,mt);for(gt+u<0&&K(3);u<Rt;++u)r[u]=n[gt+u]}for(;u<mt;++u)r[u]=r[u-C]}}t.l=F,t.p=nt,t.b=u,t.f=y,F&&(y=1,t.m=N,t.d=B,t.n=m)}while(!y);return u!=r.length&&p?_t(r,0,u):r.subarray(0,u)},ie=new V(0),tt=function(e,t){return e[t]|e[t+1]<<8},X=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},wt=function(e,t){return X(e,t)+X(e,t+4)*4294967296};function se(e,t){return ae(e,{i:2},t&&t.out,t&&t.dictionary)}var yt=typeof TextDecoder<"u"&&new TextDecoder,oe=0;try{yt.decode(ie,{stream:!0}),oe=1}catch{}var le=function(e){for(var t="",r=0;;){var n=e[r++],a=(n>127)+(n>223)+(n>239);if(r+a>e.length)return{s:t,r:_t(e,r-1)};a?a==3?(n=((n&15)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,t+=String.fromCharCode(55296|n>>10,56320|n&1023)):a&1?t+=String.fromCharCode((n&31)<<6|e[r++]&63):t+=String.fromCharCode((n&15)<<12|(e[r++]&63)<<6|e[r++]&63):t+=String.fromCharCode(n)}};function fe(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}else{if(yt)return yt.decode(e);var a=le(e),l=a.s,r=a.r;return r.length&&K(8),l}}var he=function(e,t){return t+30+tt(e,t+26)+tt(e,t+28)},ce=function(e,t,r){var n=tt(e,t+28),a=fe(e.subarray(t+46,t+46+n),!(tt(e,t+8)&2048)),l=t+46+n,p=X(e,t+20),w=r&&p==4294967295?ue(e,l):[p,X(e,t+24),X(e,t+42)],i=w[0],_=w[1],y=w[2];return[tt(e,t+10),i,_,a,l+tt(e,t+30)+tt(e,t+32),y]},ue=function(e,t){for(;tt(e,t)!=1;t+=4+tt(e,t+2));return[wt(e,t+12),wt(e,t+4),wt(e,t+20)]};function xe(e,t){for(var r={},n=e.length-22;X(e,n)!=101010256;--n)(!n||e.length-n>65558)&&K(13);var a=tt(e,n+8);if(!a)return{};var l=X(e,n+16),p=l==4294967295||a==65535;if(p){var w=X(e,n-12);p=X(e,w)==101075792,p&&(a=X(e,w+32),l=X(e,w+48))}for(var i=0;i<a;++i){var _=ce(e,l,p),y=_[0],c=_[1],u=_[2],F=_[3],B=_[4],N=_[5],m=he(e,N);l=B,y?y==8?r[F]=se(e.subarray(m,m+c),{out:new V(u)}):K(14,"unknown compression type "+y):r[F]=_t(e,m,m+c)}return r}function pe(e){function t(p,w,i,_){let y=0;return y+=p<<0,y+=w<<8,y+=i<<16,y+=_<<24>>>0,y}if(e[0]===80&&e[1]===75&&e[2]===3&&e[3]===4)return e;if(e[0]!==67||e[1]!==114||e[2]!==50||e[3]!==52)throw new Error("Invalid header: Does not start with Cr24");const r=e[4]===3,n=e[4]===2;if(!n&&!r||e[5]||e[6]||e[7])throw new Error("Unexpected crx format version number.");if(n){const p=t(e[8],e[9],e[10],e[11]),w=t(e[12],e[13],e[14],e[15]),i=16+p+w;return e.slice(i,e.length)}const l=12+t(e[8],e[9],e[10],e[11]);return e.slice(l,e.length)}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ve(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Dt={exports:{}};const we={},Fe=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Ht=ve(Fe);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var a=!r&&typeof self=="object",l=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?n=de:a&&(n=self);var p=!n.JS_SHA256_NO_COMMON_JS&&!0&&e.exports,w=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",i="0123456789abcdef".split(""),_=[-2147483648,8388608,32768,128],y=[24,16,8,0],c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=["hex","array","digest","arrayBuffer"],F=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),w&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var B=function(s,d){return function(v){return new S(d,!0).update(v)[s]()}},N=function(s){var d=B("hex",s);l&&(d=m(d,s)),d.create=function(){return new S(s)},d.update=function(x){return d.create().update(x)};for(var v=0;v<u.length;++v){var f=u[v];d[f]=B(f,s)}return d},m=function(s,d){var v=Ht,f=Ht.Buffer,x=d?"sha224":"sha256",o;f.from&&!n.JS_SHA256_NO_BUFFER_FROM?o=f.from:o=function(h){return new f(h)};var g=function(h){if(typeof h=="string")return v.createHash(x).update(h,"utf8").digest("hex");if(h==null)throw new Error(t);return h.constructor===ArrayBuffer&&(h=new Uint8Array(h)),Array.isArray(h)||ArrayBuffer.isView(h)||h.constructor===f?v.createHash(x).update(o(h)).digest("hex"):s(h)};return g},P=function(s,d){return function(v,f){return new J(v,d,!0).update(f)[s]()}},W=function(s){var d=P("hex",s);d.create=function(x){return new J(x,s)},d.update=function(x,o){return d.create(x).update(o)};for(var v=0;v<u.length;++v){var f=u[v];d[f]=P(f,s)}return d};function S(s,d){d?(F[0]=F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0,this.blocks=F):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=s}S.prototype.update=function(s){if(!this.finalized){var d,v=typeof s;if(v!=="string"){if(v==="object"){if(s===null)throw new Error(t);if(w&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!w||!ArrayBuffer.isView(s)))throw new Error(t)}else throw new Error(t);d=!0}for(var f,x=0,o,g=s.length,h=this.blocks;x<g;){if(this.hashed&&(this.hashed=!1,h[0]=this.block,this.block=h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),d)for(o=this.start;x<g&&o<64;++x)h[o>>>2]|=s[x]<<y[o++&3];else for(o=this.start;x<g&&o<64;++x)f=s.charCodeAt(x),f<128?h[o>>>2]|=f<<y[o++&3]:f<2048?(h[o>>>2]|=(192|f>>>6)<<y[o++&3],h[o>>>2]|=(128|f&63)<<y[o++&3]):f<55296||f>=57344?(h[o>>>2]|=(224|f>>>12)<<y[o++&3],h[o>>>2]|=(128|f>>>6&63)<<y[o++&3],h[o>>>2]|=(128|f&63)<<y[o++&3]):(f=65536+((f&1023)<<10|s.charCodeAt(++x)&1023),h[o>>>2]|=(240|f>>>18)<<y[o++&3],h[o>>>2]|=(128|f>>>12&63)<<y[o++&3],h[o>>>2]|=(128|f>>>6&63)<<y[o++&3],h[o>>>2]|=(128|f&63)<<y[o++&3]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=h[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,d=this.lastByteIndex;s[16]=this.block,s[d>>>2]|=_[d&3],this.block=s[16],d>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},S.prototype.hash=function(){var s=this.h0,d=this.h1,v=this.h2,f=this.h3,x=this.h4,o=this.h5,g=this.h6,h=this.h7,k=this.blocks,E,z,R,Y,C,G,Z,nt,Q,ot,$;for(E=16;E<64;++E)C=k[E-15],z=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3,C=k[E-2],R=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10,k[E]=k[E-16]+z+k[E-7]+R<<0;for($=d&v,E=0;E<64;E+=4)this.first?(this.is224?(nt=300032,C=k[0]-1413257819,h=C-150054599<<0,f=C+24177077<<0):(nt=704751109,C=k[0]-210244248,h=C-1521486534<<0,f=C+143694565<<0),this.first=!1):(z=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),R=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),nt=s&d,Y=nt^s&v^$,Z=x&o^~x&g,C=h+R+Z+c[E]+k[E],G=z+Y,h=f+C<<0,f=C+G<<0),z=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),R=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),Q=f&s,Y=Q^f&d^nt,Z=h&x^~h&o,C=g+R+Z+c[E+1]+k[E+1],G=z+Y,g=v+C<<0,v=C+G<<0,z=(v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10),R=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),ot=v&f,Y=ot^v&s^Q,Z=g&h^~g&x,C=o+R+Z+c[E+2]+k[E+2],G=z+Y,o=d+C<<0,d=C+G<<0,z=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),R=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),$=d&v,Y=$^d&f^ot,Z=o&g^~o&h,C=x+R+Z+c[E+3]+k[E+3],G=z+Y,x=s+C<<0,s=C+G<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+s<<0,this.h1=this.h1+d<<0,this.h2=this.h2+v<<0,this.h3=this.h3+f<<0,this.h4=this.h4+x<<0,this.h5=this.h5+o<<0,this.h6=this.h6+g<<0,this.h7=this.h7+h<<0},S.prototype.hex=function(){this.finalize();var s=this.h0,d=this.h1,v=this.h2,f=this.h3,x=this.h4,o=this.h5,g=this.h6,h=this.h7,k=i[s>>>28&15]+i[s>>>24&15]+i[s>>>20&15]+i[s>>>16&15]+i[s>>>12&15]+i[s>>>8&15]+i[s>>>4&15]+i[s&15]+i[d>>>28&15]+i[d>>>24&15]+i[d>>>20&15]+i[d>>>16&15]+i[d>>>12&15]+i[d>>>8&15]+i[d>>>4&15]+i[d&15]+i[v>>>28&15]+i[v>>>24&15]+i[v>>>20&15]+i[v>>>16&15]+i[v>>>12&15]+i[v>>>8&15]+i[v>>>4&15]+i[v&15]+i[f>>>28&15]+i[f>>>24&15]+i[f>>>20&15]+i[f>>>16&15]+i[f>>>12&15]+i[f>>>8&15]+i[f>>>4&15]+i[f&15]+i[x>>>28&15]+i[x>>>24&15]+i[x>>>20&15]+i[x>>>16&15]+i[x>>>12&15]+i[x>>>8&15]+i[x>>>4&15]+i[x&15]+i[o>>>28&15]+i[o>>>24&15]+i[o>>>20&15]+i[o>>>16&15]+i[o>>>12&15]+i[o>>>8&15]+i[o>>>4&15]+i[o&15]+i[g>>>28&15]+i[g>>>24&15]+i[g>>>20&15]+i[g>>>16&15]+i[g>>>12&15]+i[g>>>8&15]+i[g>>>4&15]+i[g&15];return this.is224||(k+=i[h>>>28&15]+i[h>>>24&15]+i[h>>>20&15]+i[h>>>16&15]+i[h>>>12&15]+i[h>>>8&15]+i[h>>>4&15]+i[h&15]),k},S.prototype.toString=S.prototype.hex,S.prototype.digest=function(){this.finalize();var s=this.h0,d=this.h1,v=this.h2,f=this.h3,x=this.h4,o=this.h5,g=this.h6,h=this.h7,k=[s>>>24&255,s>>>16&255,s>>>8&255,s&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,v>>>24&255,v>>>16&255,v>>>8&255,v&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,o>>>24&255,o>>>16&255,o>>>8&255,o&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255];return this.is224||k.push(h>>>24&255,h>>>16&255,h>>>8&255,h&255),k},S.prototype.array=S.prototype.digest,S.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(this.is224?28:32),d=new DataView(s);return d.setUint32(0,this.h0),d.setUint32(4,this.h1),d.setUint32(8,this.h2),d.setUint32(12,this.h3),d.setUint32(16,this.h4),d.setUint32(20,this.h5),d.setUint32(24,this.h6),this.is224||d.setUint32(28,this.h7),s};function J(s,d,v){var f,x=typeof s;if(x==="string"){var o=[],g=s.length,h=0,k;for(f=0;f<g;++f)k=s.charCodeAt(f),k<128?o[h++]=k:k<2048?(o[h++]=192|k>>>6,o[h++]=128|k&63):k<55296||k>=57344?(o[h++]=224|k>>>12,o[h++]=128|k>>>6&63,o[h++]=128|k&63):(k=65536+((k&1023)<<10|s.charCodeAt(++f)&1023),o[h++]=240|k>>>18,o[h++]=128|k>>>12&63,o[h++]=128|k>>>6&63,o[h++]=128|k&63);s=o}else if(x==="object"){if(s===null)throw new Error(t);if(w&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!w||!ArrayBuffer.isView(s)))throw new Error(t)}else throw new Error(t);s.length>64&&(s=new S(d,!0).update(s).array());var E=[],z=[];for(f=0;f<64;++f){var R=s[f]||0;E[f]=92^R,z[f]=54^R}S.call(this,d,v),this.update(z),this.oKeyPad=E,this.inner=!0,this.sharedMemory=v}J.prototype=new S,J.prototype.finalize=function(){if(S.prototype.finalize.call(this),this.inner){this.inner=!1;var s=this.array();S.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(s),S.prototype.finalize.call(this)}};var M=N();M.sha256=M,M.sha224=N(!0),M.sha256.hmac=W(),M.sha224.hmac=W(!0),p?e.exports=M:(n.sha256=M.sha256,n.sha224=M.sha224)})()})(Dt);var Pt=Dt.exports;function ye(e){let t,r,n,a,l,p,w,i,_,y,c,u,F,B,N,m,P="search again",W,S;function J(x,o){return x[6]?Ce:x[5]?Ae:ke}let M=J(e),s=M(e);function d(x,o){return x[4]?Ee:Se}let v=d(e),f=v(e);return{c(){t=U("p"),r=O("results for "),n=U("a"),a=O("@"),l=O(e[3]),w=O(":"),i=et(),_=U("p"),y=O(`shinigami eyes
                `),s.c(),c=O(` please note that shinigami eyes uses bloom filters, which are
                prone to false positives.`),u=et(),F=U("p"),B=O(`soupcan
                `),f.c(),N=et(),m=U("button"),m.textContent=P,this.h()},l(x){t=j(x,"P",{});var o=it(t);r=H(o,"results for "),n=j(o,"A",{target:!0,href:!0,class:!0});var g=it(n);a=H(g,"@"),l=H(g,e[3]),g.forEach(b),w=H(o,":"),o.forEach(b),i=rt(x),_=j(x,"P",{});var h=it(_);y=H(h,`shinigami eyes
                `),s.l(h),c=H(h,` please note that shinigami eyes uses bloom filters, which are
                prone to false positives.`),h.forEach(b),u=rt(x),F=j(x,"P",{});var k=it(F);B=H(k,`soupcan
                `),f.l(k),k.forEach(b),N=rt(x),m=j(x,"BUTTON",{class:!0,"data-svelte-h":!0}),L(m)!=="svelte-1rrdxd2"&&(m.textContent=P),this.h()},h(){D(n,"target","_blank"),D(n,"href",p="https://x.com/"+e[3]),D(n,"class","text-blue-600 underline decoration-wavy underline-offset-2"),D(m,"class","py-1 px-4 rounded-full border-black border-2 transition-colors hover:text-gray-600 hover:border-gray-600")},m(x,o){A(x,t,o),I(t,r),I(t,n),I(n,a),I(n,l),I(t,w),A(x,i,o),A(x,_,o),I(_,y),s.m(_,null),I(_,c),A(x,u,o),A(x,F,o),I(F,B),f.m(F,null),A(x,N,o),A(x,m,o),W||(S=ct(m,"click",e[14]),W=!0)},p(x,o){o&8&&ut(l,x[3]),o&8&&p!==(p="https://x.com/"+x[3])&&D(n,"href",p),M!==(M=J(x))&&(s.d(1),s=M(x),s&&(s.c(),s.m(_,c))),v===(v=d(x))&&f?f.p(x,o):(f.d(1),f=v(x),f&&(f.c(),f.m(F,null)))},d(x){x&&(b(t),b(i),b(_),b(u),b(F),b(N),b(m)),s.d(),f.d(),W=!1,S()}}}function be(e){let t,r=`welcome! enter the username of the twitter user you want to
                search, then hit enter:`,n,a,l,p,w,i=localStorage.getItem("downloadTime")+"",_,y,c,u,F="delete",B,N;return{c(){t=U("p"),t.textContent=r,n=et(),a=U("input"),l=et(),p=U("p"),w=O("date and time you last downloaded the databases: "),_=O(i),y=O(`. if you'd like to delete the data to restart, click the
                button below.`),c=et(),u=U("button"),u.textContent=F,this.h()},l(m){t=j(m,"P",{"data-svelte-h":!0}),L(t)!=="svelte-1rinc6m"&&(t.textContent=r),n=rt(m),a=j(m,"INPUT",{id:!0,placeholder:!0,class:!0}),l=rt(m),p=j(m,"P",{});var P=it(p);w=H(P,"date and time you last downloaded the databases: "),_=H(P,i),y=H(P,`. if you'd like to delete the data to restart, click the
                button below.`),P.forEach(b),c=rt(m),u=j(m,"BUTTON",{class:!0,"data-svelte-h":!0}),L(u)!=="svelte-1g8gwzb"&&(u.textContent=F),this.h()},h(){D(a,"id","username"),D(a,"placeholder","username..."),D(a,"class","rounded-full py-1 px-4 border-2 border-black"),D(u,"class","py-1 px-4 rounded-full border-red-600 text-red-600 border-2 transition-colors hover:text-red-800 hover:border-red-800")},m(m,P){A(m,t,P),A(m,n,P),A(m,a,P),e[12](a),A(m,l,P),A(m,p,P),I(p,w),I(p,_),I(p,y),A(m,c,P),A(m,u,P),B||(N=[ct(a,"keydown",e[13]),ct(u,"click",e[10])],B=!0)},p:st,d(m){m&&(b(t),b(n),b(a),b(l),b(p),b(c),b(u)),e[12](null),B=!1,Vt(N)}}}function _e(e){let t,r=`we're currently downloading the databases and loading them in.
                this may take a few minutes.`,n,a,l,p;return{c(){t=U("p"),t.textContent=r,n=et(),a=U("p"),l=O("progress: "),p=O(e[1])},l(w){t=j(w,"P",{"data-svelte-h":!0}),L(t)!=="svelte-103y02v"&&(t.textContent=r),n=rt(w),a=j(w,"P",{});var i=it(a);l=H(i,"progress: "),p=H(i,e[1]),i.forEach(b)},m(w,i){A(w,t,i),A(w,n,i),A(w,a,i),I(a,l),I(a,p)},p(w,i){i&2&&ut(p,w[1])},d(w){w&&(b(t),b(n),b(a))}}}function me(e){let t,r=`before you can do a search, you&#39;ll need to download the
                databases. first, go to <a target="_blank" href="https://cors-anywhere.herokuapp.com/" class="text-blue-600 underline decoration-wavy underline-offset-2">this link</a> and opt in. then, just click the button below to download the data.`,n,a,l="download",p,w;return{c(){t=U("p"),t.innerHTML=r,n=et(),a=U("button"),a.textContent=l,this.h()},l(i){t=j(i,"P",{"data-svelte-h":!0}),L(t)!=="svelte-r97139"&&(t.innerHTML=r),n=rt(i),a=j(i,"BUTTON",{class:!0,"data-svelte-h":!0}),L(a)!=="svelte-1lw6t9g"&&(a.textContent=l),this.h()},h(){D(a,"class","py-1 px-4 rounded-full border-black border-2 transition-colors hover:text-gray-600 hover:border-gray-600")},m(i,_){A(i,t,_),A(i,n,_),A(i,a,_),p||(w=ct(a,"click",e[9]),p=!0)},p:st,d(i){i&&(b(t),b(n),b(a)),p=!1,w()}}}function ge(e){let t,r=`we're currently checking for databases and loading them in. this
                may take a bit.`;return{c(){t=U("p"),t.textContent=r},l(n){t=j(n,"P",{"data-svelte-h":!0}),L(t)!=="svelte-sn4n1h"&&(t.textContent=r)},m(n,a){A(n,t,a)},p:st,d(n){n&&b(t)}}}function ke(e){let t,r="did not mark this user",n;return{c(){t=U("span"),t.textContent=r,n=O("."),this.h()},l(a){t=j(a,"SPAN",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-igki19"&&(t.textContent=r),n=H(a,"."),this.h()},h(){D(t,"class","text-gray-600")},m(a,l){A(a,t,l),A(a,n,l)},d(a){a&&(b(t),b(n))}}}function Ae(e){let t,r,n="transphobic",a;return{c(){t=O("marked this user as "),r=U("span"),r.textContent=n,a=O("."),this.h()},l(l){t=H(l,"marked this user as "),r=j(l,"SPAN",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-181hsxo"&&(r.textContent=n),a=H(l,"."),this.h()},h(){D(r,"class","text-red-600")},m(l,p){A(l,t,p),A(l,r,p),A(l,a,p)},d(l){l&&(b(t),b(r),b(a))}}}function Ce(e){let t,r,n="trans friendly",a;return{c(){t=O("marked this user as "),r=U("span"),r.textContent=n,a=O("."),this.h()},l(l){t=H(l,"marked this user as "),r=j(l,"SPAN",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-iiwb78"&&(r.textContent=n),a=H(l,"."),this.h()},h(){D(r,"class","text-green-600")},m(l,p){A(l,t,p),A(l,r,p),A(l,a,p)},d(l){l&&(b(t),b(r),b(a))}}}function Se(e){let t,r="did not mark this user",n;return{c(){t=U("span"),t.textContent=r,n=O("."),this.h()},l(a){t=j(a,"SPAN",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-igki19"&&(t.textContent=r),n=H(a,"."),this.h()},h(){D(t,"class","text-gray-600")},m(a,l){A(a,t,l),A(a,n,l)},p:st,d(a){a&&(b(t),b(n))}}}function Ee(e){let t,r,n="transphobic",a,l=e[7].toLowerCase()+"",p,w,i;function _(u,F){return u[8]?Oe:Be}let y=_(e),c=y(e);return{c(){t=O("marked this user as "),r=U("span"),r.textContent=n,a=O('. their reasoning was: "'),p=O(l),w=O(`". the
                    entry
                    `),c.c(),i=St(),this.h()},l(u){t=H(u,"marked this user as "),r=j(u,"SPAN",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-181hsxo"&&(r.textContent=n),a=H(u,'. their reasoning was: "'),p=H(u,l),w=H(u,`". the
                    entry
                    `),c.l(u),i=St(),this.h()},h(){D(r,"class","text-red-600")},m(u,F){A(u,t,F),A(u,r,F),A(u,a,F),A(u,p,F),A(u,w,F),c.m(u,F),A(u,i,F)},p(u,F){F&128&&l!==(l=u[7].toLowerCase()+"")&&ut(p,l),y===(y=_(u))&&c?c.p(u,F):(c.d(1),c=y(u),c&&(c.c(),c.m(i.parentNode,i)))},d(u){u&&(b(t),b(r),b(a),b(p),b(w),b(i)),c.d(u)}}}function Be(e){let t;return{c(){t=O("was not timestamped.")},l(r){t=H(r,"was not timestamped.")},m(r,n){A(r,t,n)},p:st,d(r){r&&b(t)}}}function Oe(e){let t,r=new Date(e[8]).toLocaleString()+"",n,a;return{c(){t=O("was made: "),n=O(r),a=O(".")},l(l){t=H(l,"was made: "),n=H(l,r),a=H(l,".")},m(l,p){A(l,t,p),A(l,n,p),A(l,a,p)},p(l,p){p&256&&r!==(r=new Date(l[8]).toLocaleString()+"")&&ut(n,r)},d(l){l&&(b(t),b(n),b(a))}}}function He(e){let t,r,n,a="transphobe db search",l,p,w,i='made by <a href="https://github.com/parabirb" class="text-blue-600 underline decoration-wavy underline-offset-2">birb</a>.';function _(u,F){if(!u[0])return ge;if(u[0]==="notDownloaded")return me;if(u[0]==="downloading")return _e;if(u[0]==="downloaded")return be;if(u[0]==="searched")return ye}let y=_(e),c=y&&y(e);return{c(){t=U("div"),r=U("div"),n=U("h1"),n.textContent=a,l=et(),c&&c.c(),p=et(),w=U("h6"),w.innerHTML=i,this.h()},l(u){t=j(u,"DIV",{class:!0});var F=it(t);r=j(F,"DIV",{class:!0});var B=it(r);n=j(B,"H1",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-1cma08o"&&(n.textContent=a),l=rt(B),c&&c.l(B),p=rt(B),w=j(B,"H6",{class:!0,"data-svelte-h":!0}),L(w)!=="svelte-1nrrv41"&&(w.innerHTML=i),B.forEach(b),F.forEach(b),this.h()},h(){D(n,"class","text-4xl font-semibold"),D(w,"class","text-sm"),D(r,"class","lg:w-[50vw] md:w-[70vw] w-[90vw] flex flex-col items-center justify-center text-center hyphens-auto gap-2"),D(t,"class","min-h-screen flex flex-col items-center justify-center")},m(u,F){A(u,t,F),I(t,r),I(r,n),I(r,l),c&&c.m(r,null),I(r,p),I(r,w)},p(u,[F]){y===(y=_(u))&&c?c.p(u,F):(c&&c.d(1),c=y&&y(u),c&&(c.c(),c.m(r,p)))},i:st,o:st,d(u){u&&b(t),c&&c.d()}}}function Pe(e,t,r){let n,a,l,p,w,i="N/A",_,y,c,u,F,B,N;async function m(v){const f=await v.arrayBuffer(),x=new bt;return x.parts=[new Et(new Int32Array(f.slice(0,287552)),20),new Et(new Int32Array(f.slice(287552)),21)],x}async function P(){let v=await n.getFileHandle("transphobic.dat"),f=await n.getFileHandle("t-friendly.dat"),x=await n.getFileHandle("soupcan.json");l=await m(await v.getFile()),p=await m(await f.getFile()),w=JSON.parse(await(await x.getFile()).text()),window.tphobeFilter=l,window.tfriendlyFilter=p,window.soupcanList=w,window.sha256=Pt.sha256}Jt(async()=>{n=await navigator.storage.getDirectory();try{await P(),r(0,a="downloaded")}catch{r(0,a="notDownloaded")}});async function W(){r(0,a="downloading"),r(1,i="downloading shinigami eyes...");const v=await fetch("https://cors-anywhere.herokuapp.com/https://clients2.google.com/service/update2/crx?response=redirect&os=linux&arch=x86-64&os_arch=x86-64&nacl_arch=x86-64&prod=chromiumcrx&prodchannel=unknown&prodversion=132.0.6834.94&acceptformat=crx2,crx3&x=id%3Dijcpiojgefnkmcadacmacogglhjdjphj%26uc").then(E=>E.blob());r(1,i="unzipping shinigami eyes...");const f=xe(pe(new Uint8Array(await v.arrayBuffer())));r(1,i="saving the shinigami eyes data...");let o=await(await n.getFileHandle("transphobic.dat",{create:!0})).createWritable();await o.write(f["data/transphobic.dat"]),await o.close(),o=await(await n.getFileHandle("t-friendly.dat",{create:!0})).createWritable(),await o.write(f["data/t-friendly.dat"]),await o.close(),r(1,i="downloading the soupcan database...");const h=await fetch(`https://soupcan-extension.s3.us-west-2.amazonaws.com/dataset_compressed.json?${new Date().getTime()}`).then(E=>E.text());r(1,i="saving the soupcan data..."),o=await(await n.getFileHandle("soupcan.json",{create:!0})).createWritable(),await o.write(h),await o.close(),r(1,i="loading all data..."),await P(),localStorage.setItem("downloadTime",new Date().toLocaleString()),r(0,a="downloaded")}async function S(){await n.removeEntry("transphobic.dat"),await n.removeEntry("t-friendly.dat"),await n.removeEntry("soupcan.json"),r(0,a="notDownloaded")}function J(){r(3,y=_.value.trim().replace("@","").toLowerCase()),r(2,_.value="",_);let v=w.entries[Pt.sha256(`${y}:${w.salt}`)];r(4,c=!!v&&(v==null?void 0:v.label)==="transphobe"),c&&(r(8,N=v.time),r(7,B=v.reason)),r(5,u=l.test(`twitter.com/${y}`)),r(6,F=p.test(`twitter.com/${y}`)),r(0,a="searched")}function M(v){Lt[v?"unshift":"push"](()=>{_=v,r(2,_)})}return[a,i,_,y,c,u,F,B,N,W,S,J,M,v=>{v.key==="Enter"&&(v.preventDefault(),J())},()=>r(0,a="downloaded")]}class je extends Wt{constructor(t){super(),Kt(this,t,Pe,He,It,{})}}export{je as component};
